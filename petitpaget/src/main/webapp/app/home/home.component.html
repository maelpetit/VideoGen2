
<div class="body">
    <!-- ########################################################################################################################## -->
    <!-- #############\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/############# -->
    <!-- #############\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/############# -->
    <!-- ######################################### -->
    <!-- L'authentification####################### -->
    <!-- ######################################### -->
    <div [ngSwitch]="isAuthenticated()" >
        <!-- ######################################### -->
        <!-- Si la personne ne s'est pas authentifiÃ© # -->
        <!-- ######################################### -->
        <!-- ######################################### -->
        <!-- Not Authenticated ####################### -->
        <!-- ######################################### -->
        <div align="center" class="row" *ngSwitchCase="false"><!--*ngIf="!isLoading"-->
            <div class="col-md-12">
                <!-- ######################################### -->
                <!-- En tete de page, insertion de l'image ### -->
                <!-- ######################################### -->
                <!-- <div class="col-md-3">
                       <span class="hipster img-fluid rounded"></span>
                   </div> -->
                <!-- ######################################### -->
                <!-- ######################################### -->
                <!-- ######################################### -->
                    <!-- ######################################## -->
                    <!-- Start Page Introduction ################ -->
                    <!-- ######################################## -->
                <div align="center">
                    <div id="divIntroduction">
                                <!-- ######################################## -->
                                <!-- Titre################################### -->
                                <!-- ######################################### -->
                        <h1 class="divWelcome"><br>WELCOME TO THE BEAUTIFUL<br><br>VIDEO GENERATOR !<br><br></h1>
                        <!-- ######################################### -->
                        <!-- ######################################### -->
                        <!-- ######################################### -->
                        <img height="300" src="../../content/images/bref_background.png" />
                        <div class="sign_in">
                            <a class="alert-link" (click)="login()">Sign <u>Here</u></a><br>
                        </div>
                        <div class="sign_option_italic">
                            <span>If you want to </span>
                            <a class="alert-link" (click)="openLogin()">sign in</a>
                            <span>, you can try the default accounts: <br/>- User (login=<a class="alert-link" (click)="openLogin()">"user"</a> and password=<a class="alert-link" (click)="openLogin()">"user"</a>).</span>
                        </div>
                    </div>
                </div>
            </div>
            <!-- ######################################### -->
            <!-- End Page Introduction ################### -->
            <!-- ######################################### -->
        </div>
        <!-- ######################################### -->
        <!-- End Not Authentificated ################# -->
        <!-- ######################################### -->




        <!-- ########################################################################################################################### -->

        <!-- ######################################### -->
        <!-- Authenticated ########################### -->
        <!-- ######################################### -->

        <div align="center" *ngSwitchCase="true">
            <div class="divIntroductionUser">

                <!-- ######################################### -->
                <!-- Titre#################################### -->
                <!-- ######################################### -->
                <h1 class="divWelcome"><br>VIDEO GENERATOR <br><br></h1>
                <!-- ######################################### -->
                <!-- ######################################### -->
                <!-- ######################################### -->
                <img height="300" src="../../content/images/bref_background.png" />
            </div>

            <!-- ######################################### -->
            <!-- Select ################################## -->
            <!-- ######################################### -->
            <div class="select_gram">
                Select Grammar
                <select class="select_gram_button" [(ngModel)]="videoGen" (change)="loadModel()">
                    <option *ngFor="let file of listFiles" [value]="file">{{file}}</option>
                </select>
            </div>
            <div class="image_bref_penseur" *ngIf="isLoading" style="color: red" (suspend)="loadingString">{{loadingString}}</div>
            <!-- ######################################### -->
            <!-- ######################################### -->
            <!-- ######################################### -->

            <div class = "preload"></div>
            <div>
                <video *ngIf="displayVideo" preload="auto" controls autoplay>
                    <source src="{{ videoLocation }}" type="video/mp4">
                </video>
            </div>
        </div>

        <div class="if_videoGenModel" *ngIf="videoGenModel" >
                <div class = "select_gram">
                          <u style="color:#FF0000;"> Unselected</u> <u style="color:#008000;">Selected</u> <u style="color:#FFA500;">Mandatory</u><br>
                        To generate video, click on buttons bellow
                </div>
                <table align="center">
                    <tr *ngFor="let media of videoGenModel.medias">
                        <td *ngIf="media.type == 'mv'" class="Mandatory">
                            <div class = "select_gram">
                                Mandatory :
                            </div>
                            <img height="200" src="{{media.description.thumbnail}}"/>
                        </td>
                        <td *ngIf="media.type == 'ov'" class="Select_div">
                            <div class = "select_gram">
                                Selection :
                                <div *ngIf="media.description.selected">TRUE</div>

                                <div *ngIf="!media.description.selected">FALSE</div>
                            </div>
                            <img class="Selected" (click)="media.description.selected = !media.description.selected" *ngIf="media.description.selected" height="200" src="{{media.description.thumbnail}}" />
                            <img class="NotSelected" (click)="media.description.selected = !media.description.selected" *ngIf="!media.description.selected" height="200" src="{{media.description.thumbnail}}" />
                        </td>
                        <td *ngIf="media.type == 'av'" class ="alternative">
                                Alternative :
                            <table>
                                <tr>
                                    <td *ngFor="let desc of media.medias">
                                        <br>
                                        <img (click)="checkAndUncheck(desc.videoId, media)" *ngIf="desc.selected" height="200"
                                             src="{{desc.thumbnail}}" />
                                        <img (click)="checkAndUncheck(desc.videoId, media)" *ngIf="!desc.selected" height="200"
                                             src="{{desc.thumbnail}}" />
                                        <input type="radio" name="{{media.id}}" [checked]="idx === 0" (change)="checkAndUncheck(desc.videoId, media)">
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </table>
                <div class="select_gram">
                    <button (click)="generateVideo()">Generate Video</button>
                    <button *ngIf="videoGenModel" (click)="generateRandomVariant()">Random</button>
                </div>
        </div>
        <!-- ######################################### --
        <!-- ######################################### -->
        <!-- ######################################### -->
    </div>

    <!-- ######################################### -->
    <!-- End Video Not Received ################## -->
    <!-- ######################################### -->


    <!-- ########################################################################################################################### -->


    <!-- #############\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/############# -->
    <!-- #############\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/############# -->
    <!-- ########################################################################################################################## -->

</div>
<!-- ########################################################################################################################## -->
<!-- ########################################################################################################################## -->
<!-- ########################################################################################################################## -->
